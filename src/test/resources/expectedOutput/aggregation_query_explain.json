{
    "from" : 0,
    "size" : 0,
    "_source" : {
        "includes" : [
            "a",
            "script",
            "COUNT"
        ],
        "excludes" : [
            "*"
        ]
    },
    "stored_fields" : [
        "a",
        "a2345"
    ],
    "script_fields" : {
        "a2345" : {
            "script" : {
                "inline" : "def func_1222018147(def doc) { try {def condition_998564996 = (doc['gender'].value=='0'); if(condition_998564996){return 'aaa';} else {return 'bbb';}} catch (Exception e) { return null;} } def eval_542741914 = func_1222018147(doc);return eval_542741914;",
                "lang" : "painless"
            },
            "ignore_failure" : false
        }
    },
    "aggregations" : {
        "terms(field=a)" : {
            "terms" : {
                "field" : "a",
                "size" : 10,
                "min_doc_count" : 1,
                "shard_min_doc_count" : 0,
                "show_term_doc_count_error" : false,
                "order" : [
                    {
                        "_count" : "desc"
                    },
                    {
                        "_term" : "asc"
                    }
                ]
            },
            "aggregations" : {
                "a2345" : {
                    "terms" : {
                        "script" : {
                            "inline" : "def func_1222018147(def doc) { try {def condition_998564996 = (doc['gender'].value=='0'); if(condition_998564996){return 'aaa';} else {return 'bbb';}} catch (Exception e) { return null;} } def eval_542741914 = func_1222018147(doc);return eval_542741914;",
                            "lang" : "painless"
                        },
                        "size" : 200,
                        "min_doc_count" : 1,
                        "shard_min_doc_count" : 0,
                        "show_term_doc_count_error" : false,
                        "order" : [
                            {
                                "_count" : "desc"
                            },
                            {
                                "_term" : "asc"
                            }
                        ]
                    },
                    "aggregations" : {
                        "COUNT(c)" : {
                            "value_count" : {
                                "field" : "c"
                            }
                        }
                    }
                }
            }
        }
    }
}